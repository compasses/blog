## 写在2020年的第一天

时间过得很快，上一次回顾还是两年前，那也是因为换工作，想总结下，有种继往开来的感觉。这次的初衷也一样，继往开来吧。

不知不觉已经来到了2020年，2011年开始参加工作，目前是第9个年头了。IT这个行业，都说是青春饭，一个人的职业生涯会有几个9年呢？

阿里工作的两年四个月，由于是离家上班，所以平时基本上所有的时间都耗在了公司，为了工作，也为了自己。自己不算是幸运的人，没有赶上互联网的这波高潮，远离家人来外地上班，希望有所收获，对自己的未来好有更加清晰的认识，也许认识也变得更加模糊了。就像现在这样，总想着总结下，说明白一件事情，但又无从下手。ok，那就从自己最近两年的经历说起吧。

存储引擎，主要做的工作就是存储数据，如何高效的存储管理数据又是文件系统的范畴。所以说这里说的存储引擎更多的为了特定的应用场景而设计，例如MPP数据库中，为了OLAP的workload，存储引擎基本上面对的是tuple数据，即每行数据的存储。而这个方向的研究证明，行列混存结构能带来更好的性能。但是考虑到TP系统的需求，就不难发现列存上的实时更新，按行写入等操作相比行存有更大的overhead。所以在目前很多产品都在积极推进HTAP产品，HTAP主要是带给存储层的上的变化，基本上是以内部行存+列存综合处理。可以增加一些优化手段，例如全内存的行存增量表，异步的增量merge到列存上。

面向大数据处理，很多公司、政府都有需求，当然可选择的框架、工具也异常繁多，开源的大数据处理平台不下10个，基于传统数据库的OLAP平台也有很多优秀的开源产品可供选择。这块目前仍然需求旺盛，仍然缺乏爆品。

计算层和存储引擎紧密结合，才能提供更好的查询性能。计算理解存储，存储也能做很多计算将是一个重要的发展方向和契机。例如存储计算分离的架构，相比目前的MPP Share-nothing架构，在架构上就有很多优势，因为计算和存储紧密耦合，无法独立的scale。Hadoop的处理架构，也是基于MPP计算引擎，但是以HDFS为存储架构。在云上数仓的领域，共享存储的模式变得更加高效和适用，例如Snowflake、Redshift/Spectrum。还有更进一步的AWS Aurora，在传统数据库基础上实现了存储和计算的解耦，实现了存储计算分离和弹性计算的能力。

相比储存引擎，相对稳定的，可改变的东西不多，计算层的发展有诸多新方向。例如JIT技术、向量化执行等。这些更多的结合底层技术来实现计算加速，因为数据库查询优化的代码就那么多，做完后，需要更加的结合硬件，榨取机器上的所有性能。有效的JIT，全向量化执行将是OLAP的一大利器，这些也是我目前的兴趣点，希望有时间进一步研究。

综合来讲，云上数仓还有很多机会，起码目前国内如此。上述是关于存储引擎、关于实时数仓的一些浅显的总结，其实这个领域发展已经有几十年的历史了，要说清楚真的挺难的，只能从自己的工作体会上谈一下基本认识。

还有一个领域，自己也有很多关注，那就是区块链技术的发展。区块链确实是一项有用的技术，但是目前在实际应用中领域还是很小，壁垒太多。国内也有很多不错的技术在发展，区块链的发展也促进了Rust编程语言的发展。总体上讲，区块链就像早期的互联网购物一样，需要改变的东西很多，改变认识，达成共识仍然是该项技术得到大力发展一道强壁垒。技术是好技术，但是应用场景匮乏。

人也总是向前发展，面向未来总是诚惶诚恐。特别在2019年听到最多的便是焦虑，35岁以上的IT人士都是怎样的凄惨，这也特别符合国情，国内的研发工程师们，很多都面向业务，业务不赚钱了，业务砍掉了，对应的研发人员就要做对应的人员优化了。如果国内的工程师们，能够自己多多专研，习得一技之长，应该总能找到自己的栖身之地。看年龄决定是否录用的公司，不去也罢。

职业道路上充满了坎坷和未知，面对困难，不忘初心，坚持自己的坚持，如履薄冰。

但行好事，莫问前程。
